FROM openjdk:8-jdk-alpine

# Install Python 3 and required utilities
RUN apk add --no-cache python3 py3-pip && \
    python3 -m ensurepip && \
    pip3 install --no-cache --upgrade pip setuptools

WORKDIR /app
COPY Exploit.java .
COPY httpserver.py .
RUN javac Exploit.java

# Use custom Python HTTP server script
CMD ["python3", "httpserver.py"]